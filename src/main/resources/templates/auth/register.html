<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      th:replace="~{layouts/base :: layout(~{::section})}">
<section>
    <div class="mx-auto max-w-md bg-white shadow rounded-xl p-6">
        <h1 class="text-2xl font-semibold mb-4">Create account</h1>

        <form th:action="@{/auth/register}" th:object="${form}" method="post" novalidate class="space-y-4">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <label class="block">
                <span class="text-sm">Full name</span>
                <input class="mt-1 w-full rounded-lg border px-3 py-2" th:field="*{fullName}" />
                <span class="text-sm text-red-700" th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}"></span>
            </label>

            <label class="block">
                <span class="text-sm">Username</span>
                <input class="mt-1 w-full rounded-lg border px-3 py-2" th:field="*{username}" />
                <span class="text-sm text-red-700" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></span>
            </label>

            <label class="block">
                <span class="text-sm">Email</span>
                <input class="mt-1 w-full rounded-lg border px-3 py-2" th:field="*{email}" />
                <span class="text-sm text-red-700" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
            </label>

            <label class="block">
                <span class="text-sm">Password</span>
                <input class="mt-1 w-full rounded-lg border px-3 py-2" type="password" th:field="*{password}" />
                <span class="text-sm text-red-700" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>
            </label>

            <label class="block">
                <span class="text-sm">Confirm password</span>
                <input class="mt-1 w-full rounded-lg border px-3 py-2" type="password" th:field="*{confirmPassword}" />
                <span class="text-sm text-red-700" th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"></span>
            </label>

            <div th:if="${#fields.hasGlobalErrors()}">
                <p class="text-sm text-red-700" th:each="e : ${#fields.globalErrors()}" th:text="${e}"></p>
            </div>

            <!-- Submit jak na stronie logowania -->
            <button type="submit"
                    class="w-full rounded-lg bg-gray-900 text-white py-2 hover:bg-black">
                Create account
            </button>
        </form>

        <p class="mt-4 text-sm text-gray-600">
            Already have an account?
            <a class="text-blue-700 hover:underline" th:href="@{/auth/login}">Sign in</a>
        </p>
    </div>
</section>
</html>
